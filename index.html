<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart To-Do List | Priority Queue & Circular Queue</title>
    <meta name="description" content="A smart to-do list application demonstrating priority queue and circular queue data structures. Organize tasks by priority and track completed items efficiently.">
    <meta name="keywords" content="to-do list, priority queue, circular queue, task management, data structures">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Design System - HSL Colors */
        :root {
            --background: 240 20% 99%;
            --foreground: 240 10% 15%;
            --card: 0 0% 100%;
            --card-foreground: 240 10% 15%;
            --primary: 240 80% 60%;
            --primary-foreground: 0 0% 100%;
            --secondary: 240 10% 96%;
            --secondary-foreground: 240 10% 15%;
            --muted: 240 10% 96%;
            --muted-foreground: 240 5% 50%;
            --accent: 240 10% 94%;
            --border: 240 10% 90%;
            --input: 240 10% 90%;
            --ring: 240 80% 60%;
            --priority-high: 0 85% 65%;
            --priority-high-foreground: 0 0% 100%;
            --priority-medium: 38 92% 60%;
            --priority-medium-foreground: 38 92% 15%;
            --priority-low: 160 70% 55%;
            --priority-low-foreground: 160 90% 98%;
        }
        
        .dark {
            --background: 240 20% 8%;
            --foreground: 240 10% 95%;
            --card: 240 15% 12%;
            --card-foreground: 240 10% 95%;
            --primary: 240 80% 70%;
            --secondary: 240 10% 18%;
            --secondary-foreground: 240 10% 95%;
            --muted: 240 10% 18%;
            --muted-foreground: 240 5% 60%;
            --accent: 240 10% 20%;
            --border: 240 10% 20%;
            --input: 240 10% 20%;
            --ring: 240 80% 70%;
        }
        
        body {
            background: hsl(var(--background));
            color: hsl(var(--foreground));
        }
        
        /* Animations */
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-in-bottom {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fade-in 0.5s ease-out;
        }
        
        .animate-slide-in {
            animation: slide-in-bottom 0.3s ease-out;
        }
        
        /* Toast Styles */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 8px 30px -6px hsl(240 20% 50% / 0.3);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            animation: fade-in 0.3s ease-out;
            max-width: 400px;
        }
        
        .toast-success {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
        }
        
        .toast-error {
            background: hsl(var(--card));
            border: 1px solid hsl(0 85% 65%);
        }
        
        /* Priority Styles */
        .priority-high {
            border-left: 4px solid hsl(var(--priority-high));
            background: linear-gradient(to bottom right, hsl(0 85% 65% / 0.1), hsl(350 85% 55% / 0.1));
        }
        
        .priority-medium {
            border-left: 4px solid hsl(var(--priority-medium));
            background: linear-gradient(to bottom right, hsl(45 92% 65% / 0.1), hsl(35 92% 55% / 0.1));
        }
        
        .priority-low {
            border-left: 4px solid hsl(var(--priority-low));
            background: linear-gradient(to bottom right, hsl(165 70% 60% / 0.1), hsl(155 70% 50% / 0.1));
        }
        
        .badge-high {
            background: hsl(var(--priority-high));
            color: hsl(var(--priority-high-foreground));
        }
        
        .badge-medium {
            background: hsl(var(--priority-medium));
            color: hsl(var(--priority-medium-foreground));
        }
        
        .badge-low {
            background: hsl(var(--priority-low));
            color: hsl(var(--priority-low-foreground));
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        card: 'hsl(var(--card))',
                        'card-foreground': 'hsl(var(--card-foreground))',
                        primary: 'hsl(var(--primary))',
                        'primary-foreground': 'hsl(var(--primary-foreground))',
                        secondary: 'hsl(var(--secondary))',
                        muted: 'hsl(var(--muted))',
                        'muted-foreground': 'hsl(var(--muted-foreground))',
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                    }
                }
            }
        }
    </script>
</head>
<body>
    <!-- Toast Container -->
    <div id="toast-container"></div>
    
    <!-- Main App -->
    <div class="min-h-screen" style="background: linear-gradient(135deg, hsl(240 30% 98%) 0%, hsl(250 40% 96%) 100%);">
        <div class="container mx-auto px-4 py-8 max-w-6xl">
            <!-- Header -->
            <header class="text-center mb-12 animate-fade-in">
                <h1 class="text-5xl font-bold mb-3" style="background: linear-gradient(to right, hsl(240 80% 60%), hsl(270 80% 60%), hsl(320 80% 60%)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                    Smart To-Do List
                </h1>
                <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                    Powered by Priority Queue & Circular Queue data structures
                </p>
            </header>

            <!-- Task Input -->
            <div class="mb-12 animate-fade-in">
                <div class="bg-card rounded-xl shadow-lg border border-border p-6">
                    <form id="task-form" class="flex gap-3 w-full">
                        <input
                            type="text"
                            id="task-input"
                            placeholder="Enter a new task..."
                            class="flex-1 h-12 px-3 py-2 text-base rounded-md border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring"
                            required
                        />
                        <select
                            id="priority-select"
                            class="w-32 h-12 px-3 rounded-md border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring"
                        >
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                        <button
                            type="submit"
                            class="h-12 px-6 bg-primary text-primary-foreground rounded-md hover:opacity-90 transition-opacity font-medium flex items-center gap-2"
                        >
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Add
                        </button>
                    </form>
                </div>
            </div>

            <!-- Queues Grid -->
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Priority Queue -->
                <div class="animate-fade-in">
                    <div class="bg-card rounded-xl shadow-lg border border-border p-6 h-full">
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="flex items-center justify-center w-10 h-10 rounded-lg" style="background: hsl(var(--primary) / 0.1);">
                                    <svg class="w-5 h-5" style="color: hsl(var(--primary));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="text-xl font-bold">Priority Queue</h2>
                                    <p class="text-sm text-muted-foreground">
                                        Tasks sorted by priority (High → Medium → Low)
                                    </p>
                                </div>
                            </div>
                            
                            <div id="priority-queue-container">
                                <div class="text-center py-12 px-4 rounded-lg border-2 border-dashed border-border">
                                    <p class="text-muted-foreground">No active tasks. Add one to get started!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Circular Queue -->
                <div class="animate-fade-in">
                    <div class="bg-card rounded-xl shadow-lg border border-border p-6 h-full">
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="flex items-center justify-center w-10 h-10 rounded-lg" style="background: hsl(160 70% 55% / 0.1);">
                                    <svg class="w-5 h-5" style="color: hsl(160 70% 45%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="text-xl font-bold">Circular Queue (Completed)</h2>
                                    <p class="text-sm text-muted-foreground">
                                        Recently completed tasks (max 5, FIFO rotation)
                                    </p>
                                </div>
                            </div>
                            
                            <div id="circular-queue-container">
                                <div class="text-center py-12 px-4 rounded-lg border-2 border-dashed border-border">
                                    <p class="text-muted-foreground">No completed tasks yet.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Footer -->
            <footer class="mt-12 text-center text-sm text-muted-foreground animate-fade-in">
                <div class="rounded-lg border border-border p-4 max-w-3xl mx-auto" style="background: hsl(var(--card) / 0.5);">
                    <p class="font-semibold mb-2">Data Structures in Action</p>
                    <p>
                        <strong>Priority Queue:</strong> Tasks are automatically sorted by priority (High → Medium → Low).
                        <strong>Circular Queue:</strong> Completed tasks are stored in a FIFO queue with a maximum size of 5.
                    </p>
                </div>
            </footer>
        </div>
    </div>

    <script>
        // Application State
        let tasks = [];
        let completedTasks = [];
        const MAX_COMPLETED = 5;

        // Toast Notification System
        function showToast(message, type = 'success', description = '') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = toast toast-${type};
            
            const icon = type === 'success' 
                ? '<svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>'
                : '<svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>';
            
            toast.innerHTML = `
                ${icon}
                <div>
                    <div class="font-semibold">${message}</div>
                    ${description ? <div class="text-sm text-muted-foreground">${description}</div> : ''}
                </div>
            `;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => container.removeChild(toast), 300);
            }, 3000);
        }

        // Task Management
        function addTask(taskText, priority) {
            const task = {
                id: Date.now().toString(),
                task: taskText,
                priority: priority
            };
            
            tasks.push(task);
            renderPriorityQueue();
            showToast('Task added to priority queue!', 'success', Priority: ${priority.toUpperCase()});
        }

        function completeTask(id) {
            const taskIndex = tasks.findIndex(t => t.id === id);
            if (taskIndex !== -1) {
                const task = tasks[taskIndex];
                tasks.splice(taskIndex, 1);
                
                // Add to circular queue with FIFO logic
                completedTasks.push(task);
                if (completedTasks.length > MAX_COMPLETED) {
                    completedTasks.shift(); // Remove oldest
                }
                
                renderPriorityQueue();
                renderCircularQueue();
                showToast('Task completed!', 'success', 'Moved to circular queue');
            }
        }

        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            renderPriorityQueue();
            showToast('Task deleted', 'error');
        }

        // Rendering Functions
        function renderPriorityQueue() {
            const container = document.getElementById('priority-queue-container');
            
            if (tasks.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 px-4 rounded-lg border-2 border-dashed border-border">
                        <p class="text-muted-foreground">No active tasks. Add one to get started!</p>
                    </div>
                `;
                return;
            }
            
            // Sort by priority
            const priorityOrder = { high: 0, medium: 1, low: 2 };
            const sortedTasks = [...tasks].sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
            
            container.innerHTML = `
                <div class="space-y-3">
                    ${sortedTasks.map((task, index) => createTaskCard(task, index + 1, false)).join('')}
                </div>
            `;
        }

        function renderCircularQueue() {
            const container = document.getElementById('circular-queue-container');
            
            if (completedTasks.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 px-4 rounded-lg border-2 border-dashed border-border">
                        <p class="text-muted-foreground">No completed tasks yet.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = `
                <div class="space-y-3">
                    ${completedTasks.map((task, index) => createTaskCard(task, index + 1, true)).join('')}
                    ${completedTasks.length === MAX_COMPLETED ? 
                        <p class="text-xs text-muted-foreground text-center pt-2">Queue is full (${MAX_COMPLETED} tasks)</p> 
                        : ''}
                </div>
            `;
        }

        function createTaskCard(task, position, isCompleted) {
            return `
                <div class="p-4 rounded-lg transition-all duration-300 hover:shadow-lg priority-${task.priority} ${isCompleted ? 'opacity-60' : ''} animate-slide-in">
                    <div class="flex items-start justify-between gap-3">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="inline-flex items-center justify-center w-6 h-6 text-xs font-bold rounded-full" style="background: hsl(var(--primary) / 0.1); color: hsl(var(--primary));">
                                    ${position}
                                </span>
                                <span class="text-xs font-semibold px-2 py-1 rounded-full badge-${task.priority}">
                                    ${task.priority.toUpperCase()}
                                </span>
                            </div>
                            <p class="text-base ${isCompleted ? 'line-through' : ''}">${task.task}</p>
                        </div>
                        ${!isCompleted ? `
                            <div class="flex gap-2">
                                <button
                                    onclick="completeTask('${task.id}')"
                                    class="h-8 w-8 rounded hover:bg-green-100 transition-colors flex items-center justify-center"
                                    title="Complete task"
                                >
                                    <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                    </svg>
                                </button>
                                <button
                                    onclick="deleteTask('${task.id}')"
                                    class="h-8 w-8 rounded hover:bg-red-100 transition-colors flex items-center justify-center"
                                    title="Delete task"
                                >
                                    <svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                    </svg>
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        // Event Listeners
        document.getElementById('task-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const taskInput = document.getElementById('task-input');
            const prioritySelect = document.getElementById('priority-select');
            
            const taskText = taskInput.value.trim();
            if (taskText) {
                addTask(taskText, prioritySelect.value);
                taskInput.value = '';
                prioritySelect.value = 'medium';
            }
        });

        // Initial render
        renderPriorityQueue();
        renderCircularQueue();
    </script>
</body>
</html>